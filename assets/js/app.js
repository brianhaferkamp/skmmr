"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){}),$(document).ready(function(){function e(){$(".source-link-favorite").on("click",function(){var e=$(this),s=e.parent().prev(".source-link-text").attr("data-source"),a=e.next();e.parent().prev().text();e.addClass("hide"),a.removeClass("hide"),$(".build-feed-trigger").removeClass("hide"),u.push(s),mySources=u.join(","),localStorage.setItem("my-sources",mySources)}),$(".source-link-favorite-active").on("click",function(){var e=$(this),s=e.parent().prev(".source-link-text").attr("data-source"),a=e.prev();e.parent().prev().text();e.addClass("hide"),a.removeClass("hide"),$(".build-feed-trigger").removeClass("hide"),u.splice($.inArray(s,u),1),mySources=u,localStorage.setItem("my-sources",mySources)})}function s(){$(".loader").addClass("hide"),$(".news-list").html(""),$.getJSON("https://newsapi.org/v2/top-headlines?sources="+g+"&pageSize=100&apiKey="+f,function(e){var s=e.articles;$.each(s,function(e,s){var a=s,t=a.title,i=a.description,n=a.publishedAt,l=new Date(n).toDateString();if(n=l,null==a.urlToImage)var o="assets/img/skmmr-placeholder-80.jpg";else o=a.urlToImage;var r=a.url,c=a.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'" target="_blank"><div class="news-image"><img src="'+o+'"/></div></a><article class="news-text"><a href="'+r+'" target="_blank"><h1 class="news-headline">'+t+'</h1></a><p class="news-lead">'+i+'</p><footer class="meta"><small class="timestamp">'+n+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),n(),i(),l(),$(".site-footer, .feedback, .email-signup").removeClass("hide")})}function a(){$(".loader").addClass("hide"),$.getJSON("https://newsapi.org/v2/everything?sources="+g+"&pageSize=100&pages=10&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var s=e.articles;$.each(s,function(e,s){var a=s,t=a.title,i=a.description,n=a.publishedAt,l=new Date(n).toDateString();if(n=l,null==a.urlToImage)var o="assets/img/skmmr-placeholder-80.jpg";else o=a.urlToImage;var r=a.url,c=a.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'"><div class="news-image"><img src="'+o+'"/></div></a><article class="news-text"><a href="'+r+'"><h1 class="news-headline">'+t+'</h1></a><p class="news-lead">'+i+'</p><footer class="meta"><small class="timestamp">'+n+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),n(),i(),l()})}function t(){$(".loader").addClass("hide"),$(".news-list").html(""),$.getJSON("https://newsapi.org/v2/top-headlines?sources="+g+"&pageSize=100&apiKey="+f,function(e){var s=e.articles;$.each(s,function(e,s){var a=s,t=a.title,i=a.description,n=a.publishedAt,l=new Date(n).toDateString();if(n=l,null==a.urlToImage)var o="assets/img/skmmr-placeholder-80.jpg";else o=a.urlToImage;var r=a.url,c=a.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'" target="_blank"><div class="news-image"><img src="'+o+'"/></div></a><article class="news-text"><a href="'+r+'" target="_blank"><h1 class="news-headline">'+t+'</h1></a><p class="news-lead">'+i+'</p><footer class="meta"><small class="timestamp">'+n+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),n(),i(),l()}),$(".site-footer, .feedback, .email-signup").removeClass("hide")}function i(){var e=$(".news-group");e.each(function(){var e=$(this),s=e.find(".news-text h1").text(),a=new RegExp(/[\u0600-\u06FF\u0590-\u05FF]/),t=a.test(s);t?$(this).find(".news-headline, .news-lead").addClass("rtl"):$(this).find(".news-headline, .news-lead").removeClass("rtl")})}function n(){sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .navbar, .navbar-view").addClass("night"))}function l(){if(localStorage.getItem("font-size")){var e=localStorage.getItem("font-size");"XL"==e?r():"L"==e&&o()}}function o(){$(".news-headline").css("font-size","1.5rem"),$(".news-lead").css("font-size","1.2rem"),$(".timestamp, .news-source").css("font-size","1rem"),$(".font-size-choice").removeClass("font-size-active"),$(".font-size-l").addClass("font-size-active")}function r(){$(".news-headline").css("font-size","2rem"),$(".news-lead").css({"font-size":"1.5rem","line-height":"1.3"}),$(".timestamp, .news-source").css("font-size","1.2rem"),$(".font-size-choice").removeClass("font-size-active"),$(".font-size-xl").addClass("font-size-active")}function c(){d(),m()}function d(){p="",$(".search-basic-input").on("keyup",function(){p=$(".search-basic-input").val(),searchTerm=encodeURIComponent(p)})}function m(){$(".search-basic-submit").on("click",function(){$(".news-filter, .navbar-view").addClass("hide"),$(".navbar-item").removeClass("navbar-item-active"),$(".news-list").html(""),$(".news-list").html('<p class="loader"><i class="zmdi zmdi-spinner zmdi-hc-spin"></i></p>'),$.get("https://newsapi.org/v2/everything?q="+searchTerm+"&pageSize=100&sortBy=publishedAt&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var e=e;$.each(e.articles,function(e,s){var a=s,t=a.title,i=a.description,n=a.publishedAt,l=new Date(n).toDateString();if(n=l,null==a.urlToImage)var o="assets/img/skmmr-placeholder-80.jpg";else o=a.urlToImage;var r=a.url,c=a.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'" target="_blank"><div class="news-image"><img src="'+o+'"/></div></a><article class="news-text"><a href="'+r+'" target="_blank"><h1 class="news-headline">'+t+'</h1></a><p class="news-lead">'+i+'</p><footer class="meta"><small class="timestamp">'+n+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),$(".loader").addClass("hide")}),$(".news-search-title").html("").append('Search: <span class="search-label">'+p+"</span>")})}var f="ab69fb9ba2d540aaabff5ec14e1f7e59",h=localStorage.getItem("source");if(h)var g=h;else{var v="reuters";g=v}localStorage.getItem("my-sources");if(localStorage.getItem("font-style")?($("main").addClass("sans-serif"),$(".font-style-choice").removeClass("font-style-active"),$(".font-sans-serif").addClass("font-style-active")):$(".font-serif").addClass("font-style-active"),sessionStorage.getItem("textDirection"));s(),$(".filter").on("click",function(){var e=$(this);$(".filter").removeClass("news-filter-active"),e.addClass("news-filter-active")}),$(".filter-everything").on("click",function(){$(".news-list").html('<p class="loader"><i class="zmdi zmdi-spinner zmdi-hc-spin"></i></p>'),a()}),$(".filter-top-stories").on("click",function(){$(".news-list").html('<p class="loader"><i class="zmdi zmdi-spinner zmdi-hc-spin"></i></p>'),s()}),localStorage.getItem("feedback-given")&&$(".feedback").addClass("hide"),$(".feedback-options p").on("click",function(){$(".feedback").html("<p>Thanks for your feedback!</p>"),localStorage.setItem("feedback-given","yes")}),$(".refresh-page").on("click",function(){window.location.reload()}),$(".build-feed-trigger").on("click",function(){$(this);g=localStorage.getItem("my-sources"),$(".navbar-view, .build-feed-trigger").addClass("hide"),$(".navbar-item").removeClass("navbar-item-active"),$(".news-list").html('<p class="loader"><i class="zmdi zmdi-spinner zmdi-hc-spin"></i></p>'),g?t():window.location.reload()}),$(window).scroll(function(){$(window).scrollTop()>100?$(".to-top").removeClass("hide"):$(".to-top").addClass("hide")}),$(".navbar-item").on("click",function(){var e=$(this),s=e.attr("data-item");$(".navbar-item").removeClass("navbar-item-active"),e.addClass("navbar-item-active"),$(".view").addClass("hide"),$("."+s+"-view").removeClass("hide"),$(".navbar-view").removeClass("hide")}),$(".navbar-view-close").on("click",function(){$(".navbar-view, .build-feed-trigger").addClass("hide"),$(".navbar-item").removeClass("navbar-item-active")}),$(".font-style-choice").on("click",function(){var e=$(this);$(".font-style-choice").removeClass("font-style-active"),e.addClass("font-style-active"),e.hasClass("font-sans-serif")?($("main").addClass("sans-serif"),localStorage.setItem("font-style","sans")):($("main").removeClass("sans-serif"),localStorage.removeItem("font-style"))}),$(".font-size-choice").on("click",function(){var e=$(this),s=e.text();$(".font-size-choice").removeClass("font-size-active"),e.addClass("font-size-active"),localStorage.setItem("font-size",s),e.hasClass("font-size-xl")?r():e.hasClass("font-size-l")?o():e.hasClass("font-size-m")&&($(".news-headline, .news-lead").css("font-size","inherit"),$(".timestamp, .news-source").css("font-size",".7rem"),localStorage.removeItem("font-size"))}),$(".settings-theme .toggle").on("click",function(){$(".settings-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .navbar").toggleClass("night"),$(".settings-theme .toggle-circle").is(".toggle-highlight")?sessionStorage.setItem("theme","dark"):sessionStorage.removeItem("theme")}),$(".source-link-text").on("click",function(){var e=$(this),s=e.attr("data-source"),a=e.attr("data-direction");a?sessionStorage.setItem("textDirection",a):sessionStorage.removeItem("textDirection"),localStorage.setItem("source",s),window.location.reload()});var u=[];e();var p;$(".search-learn-more").on("click",function(e){e.preventDefault(),$(".advanced-search-info").toggleClass("hide")}),c()});